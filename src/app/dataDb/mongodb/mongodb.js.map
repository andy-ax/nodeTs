{"version":3,"file":"mongodb.js","sourceRoot":"","sources":["mongodb.ts"],"names":[],"mappings":";;;AAAA,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,gDAAmD;AAOnD,MAAa,OAAO;IAGhB,MAAM,CAAC,gBAAgB,CAAC,MAAW,EAAE,IAAY;QAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;SAC3C;QACD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAC,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,MAAqB;QAC/B,OAAO,CAAC,KAAK,GAAG,YAAY;YACxB,MAAM,CAAC,QAAQ,GAAG,GAAG;YACrB,MAAM,CAAC,QAAQ,GAAG,GAAG;YACrB,MAAM,CAAC,QAAQ,GAAG,GAAG;YACrB,MAAM,CAAC,IAAI,GAAG,WAAW,CAAC;QAC9B,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAAA,CAAC;;AAjBN,0BAkBC;AAjBkB,aAAK,GAAG,aAAK,CAAC","sourcesContent":["const mongodb = require('mongodb');\r\nconst mongoose = require('mongoose');\r\nimport {DBPORT, DBURL} from '../../../model/model';\r\nexport type mongodbConfig = {\r\n    username: string;\r\n    password: string;\r\n    hostname: string;\r\n    port: string;\r\n}\r\nexport class Mongodb {\r\n    private static dbUrl = DBURL;\r\n\r\n    static createMongoModel(schema: any, name: string) {\r\n        if (!Mongodb.dbUrl) {\r\n            throw new Error('db url is not config');\r\n        }\r\n        return mongoose.model(name,(new mongoose.Schema(schema)));\r\n    }\r\n\r\n    static setUrl(config: mongodbConfig) {\r\n        Mongodb.dbUrl = 'mongodb://' +\r\n            config.username + ':' +\r\n            config.password + '@' +\r\n            config.hostname + ':' +\r\n            config.port + '/database';\r\n        mongoose.connect(Mongodb.dbUrl);\r\n    };\r\n}"]}